# The Unified Model 

There is a unified way of pricing every market instrument and derivative
security using a single model.

## Notation

If $\mathcal{A}$ is an
[algebra](https://en.wikipedia.org/wiki/Algebra_of_sets)
on the set $\Omega$ we write
$X\colon\mathcal{A}\to\mathbb{R}$ to indicate $X\colon\Omega\to\mathbb{R}$
is $\mathcal{A}$-[*measurable*](https://en.wikipedia.org/wiki/Measurable_function).
If $\mathcal{A}$ is finite then the
[atoms](https://en.wikipedia.org/wiki/Atom_(measure_theory))
of $\mathcal{A}$ form a
[partition](https://en.wikipedia.org/wiki/Partition_of_a_set)
of $\Omega$ and being measurable is
equivalent to being constant on atoms. In this case $X$ **is** a function
on the atoms.

If $X$ is $\mathcal{A}$-measurable and $\mathcal{B}$ is a subalgebra
of $\mathcal{A}$ then the
[*conditional expectation*](https://en.wikipedia.org/wiki/Conditional_expectation)
of $X$ given
$\mathcal{B}$ is defined by $Y = E\left\lbrack X \middle| \mathcal{A}\right\rbrack$ if and only
if $Y$ is $\mathcal{B}$ measurable and $\int_B Y\,dP = \int_B X\,dP$
for all $B\in\mathcal{B}$. This is equivalent $Y(P|_\mathcal{B})
= (XP)|_\mathcal{B}$ where the vertical bar indicates restriction.
Note if $Z$ is an $\mathcal{A}$-measurable function and $Q$ is a measure on
$\mathcal{A}$ then $ZQ$ is the measure defined by $ZQ(A) = \int_A Z\,dQ$
for $A\in\mathcal{A}$.

A _filtration_ is a be a totally ordered set, $T$, and an increasing
collection of algebras, $(\mathcal{A}_t)_{t\in T}$.  A process
$M_{t}\colon\mathcal{A}_{t} \rightarrow \mathbb{R}$, $t\in T$, is
a *martingale* if $M_{t}P = M_{u}P|_{\mathcal{A}_{t}}$.  If $P$ is
understood we write this as $M_{t} = M_{u}|_{\mathcal{A}_{t}}$. The
usual notation is $M_{t} = E\left\lbrack M_{u} \middle| \mathcal{A}_{t}
\right\rbrack.$

## Model

The *unified model* specifies *prices*
$X_{t}:\mathcal{A}_{t} \rightarrow \mathbb{R}^{I}$, and *cash flows*
$C_{t}:\mathcal{A}_{t} \rightarrow \mathbb{R}^{I}$, where $I$ are the
available market instruments. Instruments are assumed to be
perfectly liquid: they can be bought and sold at the given price in any
amount. Cash flows are associated with owning an instrument: stocks have
dividends, bonds have coupons, European options have exactly one cash flow
at expiration.

A *trading strategy* is a finite collection of strictly increasing
stopping times, $\tau_{j}$, and trades,
$\Gamma_{j}:\mathcal{A}_{\tau_{j}} \rightarrow \mathbb{R}^{I}$ indicating
the number of shares to trade in each instrument. Trades accumulate to a
*position*,
$\Delta_{t} = \sum_{\tau_{j} < t}\Gamma_{j} = \sum_{s < t}\Gamma_{s}$
where $\Gamma_{s} = \Gamma_{j}$ when $s = \tau_{j}$.

The *value* (or *mark-to-market*) of a position at time $t$ is
$V_{t} = \left( \Delta_{t} + \Gamma_{t} \right) \cdot X_{t}$:
how much you would get from liquidating
your existing positions and the trades just executed.
The *amount* generated by the trading strategy at time $t$ is
$A_{t} = \Delta_{t} \cdot C_{t} - \Gamma_{t} \cdot X_{t}$: you receive
the cash flows associated with your existing position and pay for the
trades you just executed.

A model is *arbitrage-free* if there is no trading strategy with
$\sum_{j}^{}{\Gamma_{j} = 0}$, $A_{\tau_{0}} > 0$ and
$A_{t} \geq 0$ for $t > \tau_{0}$: it is impossible to make money on
the first trade and never lose until the strategy is closed out.

A model is *arbitrage-free* if there is no trading strategy with
$\sum_{j}{\Gamma_{j} = 0}$, $A_{\tau_{0}} > 0$ and $A_{t} \geq 0$ for
$t > \tau_{0}$: you can't make money on the first trade and never lose
money until you close out.

The Fundamental Theorem of Asset
Pricing states this is the case if and only if there exists a positive
adapted process,
$D_{t}:\mathcal{A}_{t} \rightarrow \left( 0,\infty \right)$, with

$$\begin{matrix}
X_{t}D_{t} = {(X}_{u}D_{u} + \sum_{t < s \leq u}^{}{C_{s}D_{s}})|_{\mathcal{A}_{t}}\label{eq:1} \\
\end{matrix}$$

Note that if $C_{t} = 0$ for all $t \in T$ this says $X_{t}D_{t}$ is a
martingale. A consequence of the above and the definition of value and amount is

$$\begin{matrix}
V_{t}D_{t} = (V_{u}D_{u} + \sum_{t < s \leq u}A_{s}D_{s})|_{\mathcal{A}_{t}}\label{eq:2} \\
\end{matrix}$$

If $u > t$ is sufficiently small then $X_{t} D_{t} = E_t[(X_u + C_u) D_u]$ and
$V_{t} D_t = (\Delta_{t} + \Gamma_t)\cdot X_{t} D_t = \Delta_u\cdot E_{t}[(X_u + C_u)D_u$.
Since $\Delta_u\cdot C_u = \Gamma_u\cdot X_u + A_u$ we have
$V_{t} D_t = E_u[(\Delta_u\cdot X_u + \Gamma_u\cdot X_u + A_u) D_u] = E_u[(V_u + A_u)D_u]$. The
formula above follows by induction.

For a strategy as above,
$V_{\tau_{0}}D_{\tau_{0}} = (\sum_{t > \tau_{0}}^{}{A_{t}D_{t})|_{\mathcal{A}_{\tau_{0}}} \geq 0}$.
Since $V_{0} = \Gamma_{0} \cdot X_{0}$,
$A_{0} = - \Gamma_{0} \cdot X_{0}$, and $D_{0} > 0$ we have
$A_{0} \leq 0$, where the 0 subscript denotes time $\tau_{0}$.
This proves the "easy" direction of the theorem.

There is no need to prove the "hard" direction since we have a large supply of arbitrage free models:
every model of the form
$X_{t}D_{t} = M_{t} - \sum_{s \leq t}{C_{s}D_{s}}$ where
$M_{t}:\mathcal{A}_{t} \rightarrow \mathbb{R}^{I}$ is a martingale and
$D_{t}:\mathcal{A}_{t} \rightarrow (0,\infty)$ is a positive adapted
process is arbitrage-free. This is immediate by substituting
$X_{u}D_{u}$ in the first displayed equation.

## Examples

Let $D_t = e^{-\rho t}$ and $M_t = (r, s e^{\sigma B_t - \sigma^2
t/2})$. This is the Black-Merton/Scholes model. No need for self-financing
portfolios, Ito's Lemma, or partial differential equations when using
the Unified Model!
